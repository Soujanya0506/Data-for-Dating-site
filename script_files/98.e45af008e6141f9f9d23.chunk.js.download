(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[98],{"96qd":function(e,t,n){"use strict";n.d(t,"a",(function(){return NotificationsList}));var a=n("ODXe"),i=n("yrBZ"),o=n("QqFe"),c=n("e1kA"),r=n("gnaW"),s=n("630U"),l=n("7xvl"),u=n("q1tI"),d=n.n(u),m=n("z9go"),f=n("g3jP"),g=n.n(f);const _={"location/DASHBOARD":"dashboard_v2","location/CATALOG":"catalog","location/COURSE":"course_landing_page","location/PATH":"path_landing_page","location/COURSE_CONTENT_ITEM":"le_course_content_item","location/PATH_CONTENT_ITEM":"le_path_content_item"},byDate=(e,t)=>new Date(t.time).getTime()-new Date(e.time).getTime(),getSortedNotifications=(e,t)=>e.sort(byDate).slice(0,t).map((e=>{const t=(({img:e,campaign_name:t})=>{switch(t){case"achievements":return{icon:"trophy",url:void 0};case"streaks":return{icon:void 0,url:g.a};default:const t=null==e?void 0:e.type,n=null==e?void 0:e.slug;return{icon:"icon"===t?n:void 0,url:"url"===t?n:void 0}}})(e).url;return{date:Object(l.a)(new Date(e.time)),id:e.id,iconSettings:{color:s.g["blue-900"]},imageUrl:t,link:e.href,text:e.description,unread:1===e.status,campaign:e.campaign_name}})),getTrackNotificationClick=e=>t=>{Object(m.b)("notification","clicked",{target:"notification_bell_cta",page_name:e&&_[e]||null,event_id:t.id,context:t.campaign}),Object(m.c)({target:"notification_bell_cta",page_name:e&&_[e],event_id:t.id,context:t.campaign})},NotificationsList=({locationType:e,notifications:t})=>{const n=Object(u.useState)(!1),s=Object(a.a)(n,2),l=s[0],m=s[1],f=l?[t.length,"Less","auto","336"]:[3,"More","hidden","520"],g=Object(a.a)(f,4),_=g[0],p=g[1],b=g[2],O=g[3];return d.a.createElement(i.b,{flexDirection:"column",paddingY:32},d.a.createElement(i.b,{alignItems:"center",flexDirection:"row",justifyContent:"space-between",paddingX:32},d.a.createElement(r.a,{as:"h1",fontSize:22,fontWeight:"title",textColor:"navy"},"My Notifications"),d.a.createElement(o.d,null,"Clear All")),d.a.createElement(i.a,{overflow:b,maxHeight:O},d.a.createElement(i.a,{paddingY:16},d.a.createElement(c.a,{notifications:getSortedNotifications(t,_),onNotificationClick:getTrackNotificationClick(e)})),t.length>3&&d.a.createElement(i.a,{paddingX:32},d.a.createElement(o.d,{onClick:()=>{m(!l)},"data-testid":"Show ".concat(p)},"Show ",p))))}},AKvC:function(e,t,n){"use strict";n.d(t,"a",(function(){return NotificationsListV1}));var a=n("udU5"),i=n("630U"),o=n("7xvl"),c=n("q1tI"),r=n.n(c),s=n("z9go"),l=n("g3jP"),u=n.n(l);const d={"location/DASHBOARD":"dashboard_v2","location/CATALOG":"catalog","location/COURSE":"course_landing_page","location/PATH":"path_landing_page","location/COURSE_CONTENT_ITEM":"le_course_content_item","location/PATH_CONTENT_ITEM":"le_path_content_item"},byDate=(e,t)=>new Date(t.time).getTime()-new Date(e.time).getTime();class NotificationsListV1 extends c.Component{constructor(...e){super(...e),this.trackNotificationClick=e=>{const t=this.props.locationType;Object(s.b)("notification","clicked",{target:"notification_bell_cta",page_name:t&&d[t]||null,event_id:e.id,context:e.campaign}),Object(s.c)({target:"notification_bell_cta",page_name:t&&d[t],event_id:e.id,context:e.campaign})},this.componentWillUnmount=()=>{this.props.notificationsMarkedRead(this.props.notifications.map((({id:e})=>e)))},this.getImageType=({img:e,campaign_name:t})=>{if("achievements"===t)return{icon:"trophy",url:void 0};if("streaks"===t)return{icon:void 0,url:u.a};const n=null==e?void 0:e.type,a=null==e?void 0:e.slug;return{icon:"icon"===n?a:void 0,url:"url"===n?a:void 0}}}render(){const e=this.props.notifications.sort(byDate).map((e=>{const t=this.getImageType(e),n=t.icon,a=t.url;return{date:Object(o.a)(new Date(e.time)),id:e.id,iconSettings:{color:i.g["blue-900"]},iconSlug:n,imageUrl:a,link:e.href,text:e.description,unread:1===e.status,campaign:e.campaign_name}}));return r.a.createElement(a.a,{className:this.props.className,notifications:e,onNotificationClick:this.trackNotificationClick})}}},"P9M/":function(e,t,n){"use strict";n.d(t,"a",(function(){return MeDropdown}));var a=n("ODXe"),i=n("/VKx"),o=n("7Wyp"),c=n("A0fv"),r=n("q1tI"),s=n.n(r),l=n("/MKj"),u=n("yy36"),d=n("MAbI"),m="toggle__3szlvGns4ctzptRSxBW7sy",f="menu__1AfYFtFYdqxwHtktzinK",g="menuItem__28u20ypRAyAvlHBP5pXU5s",_="separatorBottom__stMBw7lQlcd5SFdGddDbg",p="separatorTop__2VEbmByYvOdmtayFGvjpae",b="topDropdown__1GixDLKn_VzbgBE21Ko03H";const ClickTarget=({profileImage:e,onClick:t,targetRef:n})=>s.a.createElement("div",{ref:n},s.a.createElement("button",{"aria-label":"my account dropdown toggle",className:m,id:"dropdown-toggle",onClick:t,type:"button"},s.a.createElement(d.a,{round:!0,size:"s",imageUrl:e})));var O=n("npf3"),E=n("TSYQ"),v=n.n(E),h=n("b0K7"),j=n("RsCp");const MenuItems=({showNavItems:e,isMobile:t,showProAds:n,isAdmin:a,isCustomerService:i,isPro:o,isAccountManager:c})=>{const getSeparator=e=>"help-link"===e?_:"sign-out-link"===e?p:null,r=(()=>{const r={href:h.Ib,children:"Upgrade to Pro",visible:t||e};return[n&&r,...Object(j.e)({isAdmin:a,isCustomerService:i,isPro:o,isAccountManager:c})].filter((e=>!!e))})();return s.a.createElement("div",null,r.filter((e=>e.visible)).map((e=>{const t=e.icon;return s.a.createElement("a",{onClick:e.onClick,href:e.href,target:"help-link"===e.id?"_blank":"_self","data-testid":e.id,key:"link-to-".concat(e.id),className:v()(g,"no-underline",e.id&&[getSeparator(e.id)])},t&&s.a.createElement(t,{size:24,"aria-hidden":!0}),e.children,e.badge?s.a.createElement(O.a,null,e.badge):null)})))},MeDropdown=({showNavItems:e=!1,onClick:t})=>{const n=Object(l.useSelector)(u.i).profileImage,d=Object(l.useSelector)(u.t),m=Object(l.useSelector)(u.w),g=Object(l.useSelector)(u.C),_=Object(l.useSelector)(u.s),p=Object(r.useRef)(null),O=Object(r.useState)(!1),E=Object(a.a)(O,2),v=E[0],h=E[1],j=Object(l.useSelector)(u.J),A=Object(l.useSelector)(u.z);return s.a.createElement(s.a.Fragment,null,s.a.createElement(ClickTarget,{profileImage:n,targetRef:p,onClick:()=>{h(!v),!v&&(null==t||t())}}),s.a.createElement(o.a,{className:b,align:"right",verticalOffset:1,outline:!0,isOpen:v,onRequestClose:()=>{h(!1)},targetRef:p},s.a.createElement(i.a,{column:!0,className:f},s.a.createElement("nav",null,s.a.createElement(MenuItems,{isAccountManager:_,isAdmin:d,isCustomerService:m,isMobile:c.a.any,isPro:g&&!A,showNavItems:e,showProAds:j})))))}},QJz3:function(e,t,n){"use strict";n.d(t,"b",(function(){return useNotificationArea})),n.d(t,"c",(function(){return useNotificationInteractions})),n.d(t,"a",(function(){return useNotifications}));var a=n("q1tI"),i=n("/MKj"),o=n("G4qV"),c=n("GsXu"),r=n("tQXl");function useNotificationArea(e){const t=e.id,n=Object(a.useMemo)((()=>Object(r.a)(t)),[t]),c=Object(r.b)(n),s=Object(o.b)({notifications:n,unreadCount:c});return Object(i.useSelector)(s)}function useNotificationInteractions(){const e=Object(i.useDispatch)();return Object(a.useMemo)((()=>({notificationsMarkedRead:t=>e(Object(c.d)(t))})),[e])}function useNotifications(e){!function useNotificationSubscribe(e){const t=Object(i.useDispatch)();return Object(a.useEffect)((()=>(t(Object(c.c)(e)),()=>{t(Object(c.b)(e.id))})),[t,e])}(e);return{data:useNotificationArea(e),actions:useNotificationInteractions()}}},g3jP:function(e,t,n){e.exports=n.p+"2e7770af3a38c3442e7802f2f6a91a6f.svg"},gnd6:function(e,t,n){"use strict";n.d(t,"a",(function(){return NotificationsDropdown}));var a=n("ODXe"),i=n("/VKx"),o=n("7Wyp"),c=n("q1tI"),r=n.n(c),s=n("svkj"),l=n("tFdb"),u=n("96qd"),d=n("AKvC"),m=n("Xxlx"),f=n("QJz3"),g=n("ixXQ"),_="dropdown__1F_fcRWv-pe25RtHTZdeFh",p="notifications__dQ5YhPElQyuN4YvV60puJ",b="menuBell__3g4iBnjXjfVM0Q6IKDdIdT",O="topDropdown__1HUStgseh56noHmJ3KzVoN";const NotificationsDropdown=e=>{const t=Object(f.a)(g.a.HEADER_AREA),n=t.data,E=t.actions,v=n.notifications,h=n.unreadCount,j=E.notificationsMarkedRead,A=e.locationType,N=Object(c.useRef)(null),k=Object(c.useState)(!1),C=Object(a.a)(k,2),T=C[0],S=C[1],w=r.a.createElement("div",{ref:N},r.a.createElement(i.a,{center:!0,className:b},r.a.createElement(m.a,{data:{context:"global_nav",target:"notification_bell"},disableTracking:!!T,"aria-label":"notifications","data-testid":"notification_bell"},r.a.createElement(l.a,{theme:e.theme,key:"notification-bell",unreadCount:h,onClick:()=>{S(!T)}}))));return r.a.createElement(r.a.Fragment,null,w,r.a.createElement(o.a,{className:O,align:"right",verticalOffset:1,outline:!0,isOpen:T,onRequestClose:()=>{S(!1)},targetRef:N},r.a.createElement(i.a,{column:!0,className:_},r.a.createElement(s.a,{flagName:"persistent_notifications"},(e=>e?r.a.createElement(u.a,{locationType:A,notifications:v}):r.a.createElement(d.a,{className:p,notifications:v,notificationsMarkedRead:j,locationType:A}))))))}},ixXQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={HEADER_AREA:{id:"bell",types:[],showRead:!0,limit:5},TOAST_AREA:{id:"toast",types:["achievement","target_not_met","target_met","target_exceeded","streak_extended","streak_started"],showRead:!1,limit:3,timeframe:1800}}},svkj:function(e,t,n){"use strict";n.d(t,"a",(function(){return FeatureFlag}));var a=n("6lXR");const FeatureFlag=({flagName:e,children:t})=>t(Object(a.a)(e))},tFdb:function(e,t,n){"use strict";n.d(t,"a",(function(){return NotificationBell}));var a=n("ODXe"),i=n("FZcb"),o=n("Apmp"),c=n("TSYQ"),r=n.n(c),s=n("q1tI"),l=n.n(s),u={bell:"bell__AzBwO6vfXd1vBBNs_toEi",light:"light__2QkOxErjEG_gJjXx-P0vkr",unreadWrapper:"unreadWrapper__vRj5dfRgbpv3O9pAY9p9w",unread:"unread__CEzUq-gsL9aPdjh-k_4RR",ring:"ring__C8pkxyECPU6OcGZUFeBT4"};const NotificationBell=({as:e="button",className:t,theme:n="dark",unreadCount:c,onClick:d})=>{const m=Object(s.useState)(),f=Object(a.a)(m,2),g=f[0],_=f[1],p=Object(s.useState)(0),b=Object(a.a)(p,2),O=b[0],E=b[1];Object(s.useEffect)((()=>{_(window.document.querySelector('link[rel="shortcut icon"]'))}),[]),Object(s.useEffect)((()=>{g&&(g.href="/favicon".concat(c?"-unread":"",".ico"))}),[c,g]);const onMouseOut=()=>{E(O+1)};Object(s.useEffect)((()=>{const e=setTimeout((()=>{O>0&&E(O-1)}),2e3);return()=>clearTimeout(e)}),[O]);const v=r()(t,u.bell,u["".concat(n)],{[u.ring]:O>10});return l.a.createElement(i.a,{as:e,className:v,flat:!0,onBlur:onMouseOut,onMouseOut:onMouseOut,onClick:d,theme:"brand-dark-blue",type:"button","aria-label":"Toggle Notification Menu"},l.a.createElement(o.a,{size:20}),0!==c&&l.a.createElement("div",{id:"notification-count",className:u.unreadWrapper},l.a.createElement("p",{className:u.unread},c>99?99:c)))}}}]);
//# sourceMappingURL=98.e45af008e6141f9f9d23.chunk.js.map